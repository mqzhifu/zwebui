/*! 
 Build based on gin-vue-admin 
 Time : 1654852887000 */
var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,u=(e,l,a)=>new Promise(((t,o)=>{var u=e=>{try{i(a.next(e))}catch(l){o(l)}},d=e=>{try{i(a.throw(e))}catch(l){o(l)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,d);i((a=a.apply(e,l)).next())}));import{g as d,d as i,f as n,a as r,c as s,u as c}from"./gin-vue-admin-statisticsLog.16548528870002.js";import{f as m}from"./gin-vue-admin-format.1654852887000.js";import{r as p,b as v,o as f,c as g,d as h,e as b,w as y,h as V,t as _,y as w,V as C,i as I}from"../gva/gin-vue-admin-index.1654852887000.js";import"./gin-vue-admin-date.1654852887000.js";import"./gin-vue-admin-dictionary.1654852887000.js";import"./gin-vue-admin-sysDictionary.1654852887000.js";const j={class:"gva-search-box"},z=V("查询"),x=V("重置"),k={class:"gva-table-box"},D={class:"gva-btn-list"},U=V("新增"),B=h("p",null,"确定要删除吗？",-1),O={style:{"text-align":"right","margin-top":"8px"}},S=V("取消"),P=V("确定"),L=V("删除"),M=V("变更"),T=V("删除"),A={class:"gva-pagination"},E={class:"dialog-footer"},q=V("取 消"),F=V("确 定"),G={name:"StatisticsLog"},H=Object.assign(G,{setup(e){const G=p({projectId:0,uid:0,category:0,action:"",headerBase:"",headerCommon:"",msg:""}),H=p(1),J=p(0),K=p(10),N=p([]),Q=p({}),R=e=>{var l=e.headerCommon;return l.length>40?l.substr(0,40):l},W=()=>{Q.value={}},X=()=>{H.value=1,K.value=10,$()},Y=e=>{K.value=e,$()},Z=e=>{H.value=e,$()},$=()=>u(this,null,(function*(){const e=yield d(((e,u)=>{for(var d in u||(u={}))a.call(u,d)&&o(e,d,u[d]);if(l)for(var d of l(u))t.call(u,d)&&o(e,d,u[d]);return e})({page:H.value,pageSize:K.value},Q.value));0===e.code&&(N.value=e.data.list,J.value=e.data.total,H.value=e.data.page,K.value=e.data.pageSize)}));$();(()=>{u(this,null,(function*(){}))})();const ee=p([]),le=e=>{ee.value=e},ae=p(!1),te=()=>u(this,null,(function*(){const e=[];if(0===ee.value.length)return void I({type:"warning",message:"请选择要删除的数据"});ee.value&&ee.value.map((l=>{e.push(l.ID)}));0===(yield i({ids:e})).code&&(I({type:"success",message:"删除成功"}),N.value.length===e.length&&H.value>1&&H.value--,ae.value=!1,$())})),oe=p(""),ue=e=>u(this,null,(function*(){const l=yield n({ID:e.ID});oe.value="update",0===l.code&&(G.value=l.data.restatisticsLog,ie.value=!0)})),de=e=>u(this,null,(function*(){0===(yield r({ID:e.ID})).code&&(I({type:"success",message:"删除成功"}),1===N.value.length&&H.value>1&&H.value--,$())})),ie=p(!1),ne=()=>{oe.value="create",ie.value=!0},re=()=>{ie.value=!1,G.value={projectId:0,uid:0,category:0,action:"",headerBase:"",headerCommon:"",msg:""}},se=()=>u(this,null,(function*(){let e;switch(oe.value){case"create":default:e=yield s(G.value);break;case"update":e=yield c(G.value)}0===e.code&&(I({type:"success",message:"创建/更改成功"}),re(),$())}));return(e,l)=>{const a=v("el-input"),t=v("el-form-item"),o=v("el-button"),u=v("el-form"),d=v("el-popover"),i=v("el-table-column"),n=v("el-table"),r=v("el-pagination"),s=v("el-dialog");return f(),g("div",null,[h("div",j,[b(u,{inline:!0,model:Q.value,class:"demo-form-inline"},{default:y((()=>[b(t,{label:"项目ID"},{default:y((()=>[b(a,{modelValue:Q.value.projectId,"onUpdate:modelValue":l[0]||(l[0]=e=>Q.value.projectId=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),b(t,{label:"用户ID"},{default:y((()=>[b(a,{modelValue:Q.value.uid,"onUpdate:modelValue":l[1]||(l[1]=e=>Q.value.uid=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),b(t,{label:"动作标识"},{default:y((()=>[b(a,{modelValue:Q.value.action,"onUpdate:modelValue":l[2]||(l[2]=e=>Q.value.action=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),b(t,{label:"http公共请求头信息"},{default:y((()=>[b(a,{modelValue:Q.value.headerCommon,"onUpdate:modelValue":l[3]||(l[3]=e=>Q.value.headerCommon=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),b(t,null,{default:y((()=>[b(o,{size:"small",type:"primary",icon:"search",onClick:X},{default:y((()=>[z])),_:1}),b(o,{size:"small",icon:"refresh",onClick:W},{default:y((()=>[x])),_:1})])),_:1})])),_:1},8,["model"])]),h("div",k,[h("div",D,[b(o,{size:"small",type:"primary",icon:"plus",onClick:ne},{default:y((()=>[U])),_:1}),b(d,{visible:ae.value,"onUpdate:visible":l[6]||(l[6]=e=>ae.value=e),placement:"top",width:"160"},{reference:y((()=>[b(o,{icon:"delete",size:"small",style:{"margin-left":"10px"},disabled:!ee.value.length,onClick:l[5]||(l[5]=e=>ae.value=!0)},{default:y((()=>[L])),_:1},8,["disabled"])])),default:y((()=>[B,h("div",O,[b(o,{size:"small",type:"text",onClick:l[4]||(l[4]=e=>ae.value=!1)},{default:y((()=>[S])),_:1}),b(o,{size:"small",type:"primary",onClick:te},{default:y((()=>[P])),_:1})])])),_:1},8,["visible"])]),b(n,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:N.value,"row-key":"ID",onSelectionChange:le},{default:y((()=>[b(i,{type:"selection",width:"55"}),b(i,{align:"left",label:"项目ID",prop:"projectId",width:"120"}),b(i,{align:"left",label:"用户ID",prop:"uid",width:"120"}),b(i,{align:"left",label:"分类，暂未使用",prop:"category",width:"120"}),b(i,{align:"left",label:"动作标识",prop:"action",width:"120"}),b(i,{align:"left",label:"http请求头客户端基础信息",prop:"headerBase",width:"120"}),b(i,{align:"left",label:"http公共请求头信息",prop:"headerCommon",width:"120",formatter:R}),b(i,{align:"left",label:"自定义消息体",prop:"msg",width:"120"}),b(i,{align:"left",label:"日期",width:"180"},{default:y((e=>[V(_(w(m)(e.row.CreatedAt)),1)])),_:1}),b(i,{align:"left",label:"按钮组"},{default:y((e=>[b(o,{type:"text",icon:"edit",size:"small",class:"table-button",onClick:l=>ue(e.row)},{default:y((()=>[M])),_:2},1032,["onClick"]),b(o,{type:"text",icon:"delete",size:"small",onClick:l=>{return a=e.row,void C.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{de(a)}));var a}},{default:y((()=>[T])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),h("div",A,[b(r,{layout:"total, sizes, prev, pager, next, jumper","current-page":H.value,"page-size":K.value,"page-sizes":[10,30,50,100],total:J.value,onCurrentChange:Z,onSizeChange:Y},null,8,["current-page","page-size","total"])])]),b(s,{modelValue:ie.value,"onUpdate:modelValue":l[14]||(l[14]=e=>ie.value=e),"before-close":re,title:"弹窗操作"},{footer:y((()=>[h("div",E,[b(o,{size:"small",onClick:re},{default:y((()=>[q])),_:1}),b(o,{size:"small",type:"primary",onClick:se},{default:y((()=>[F])),_:1})])])),default:y((()=>[b(u,{model:G.value,"label-position":"right","label-width":"80px"},{default:y((()=>[b(t,{label:"项目ID:"},{default:y((()=>[b(a,{modelValue:G.value.projectId,"onUpdate:modelValue":l[7]||(l[7]=e=>G.value.projectId=e),modelModifiers:{number:!0},clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),b(t,{label:"用户ID:"},{default:y((()=>[b(a,{modelValue:G.value.uid,"onUpdate:modelValue":l[8]||(l[8]=e=>G.value.uid=e),modelModifiers:{number:!0},clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),b(t,{label:"分类，暂未使用:"},{default:y((()=>[b(a,{modelValue:G.value.category,"onUpdate:modelValue":l[9]||(l[9]=e=>G.value.category=e),modelModifiers:{number:!0},clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),b(t,{label:"动作标识:"},{default:y((()=>[b(a,{modelValue:G.value.action,"onUpdate:modelValue":l[10]||(l[10]=e=>G.value.action=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),b(t,{label:"http请求头客户端基础信息:"},{default:y((()=>[b(a,{modelValue:G.value.headerBase,"onUpdate:modelValue":l[11]||(l[11]=e=>G.value.headerBase=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),b(t,{label:"http公共请求头信息:"},{default:y((()=>[b(a,{modelValue:G.value.headerCommon,"onUpdate:modelValue":l[12]||(l[12]=e=>G.value.headerCommon=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),b(t,{label:"自定义消息体:"},{default:y((()=>[b(a,{modelValue:G.value.msg,"onUpdate:modelValue":l[13]||(l[13]=e=>G.value.msg=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{H as default};
